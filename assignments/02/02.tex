%	
%	solution.tex - Week 2, deadline on 10th of May 2013
%	
%	This document provides answers to the exercises and problems as defined by
%	the course for the week shown below.
%	
%	Mandatory:	7-1
%	Optional:	...
%	Extras:		...
%	

\documentclass[11pt,english]{article}

\usepackage{fancyhdr}
\usepackage{sectsty}
\usepackage{amsmath,amssymb}	% for mathematical notation
\usepackage[linesnumbered]{algorithm2e}

%========== meta data ==========%

\title
{
	\vspace{1in}
	Algorithms \& Datastructures\\
	\huge Assignment 2
}

\author
{
	Casper B. Hansen\\
	\small Department of Computer Science\\
	\small The University of Copenhagen\\
	\texttt{fvx507@alumni.ku.dk}
	\and
	Hans J. T. Stephensen\\
	\small Department of Computer Science\\
	\small The University of Copenhagen\\
	\texttt{xkv467@alumni.ku.dk}
}

\date{\today}


%========== settings ==========%

\setlength{\headheight}{15pt}
\sectionfont{\Large}


%========== macros ==========%

% no macros yet


%========== document ==========%

\begin{document}

\clearpage
\maketitle
\thispagestyle{empty}

%========== mandatory ==========%

\newpage
\pagestyle{fancy}

\section*{Mandatory Hand-ins}

\subsection*{7-1 Hoare Partition Correctness}
The version of \texttt{Partition} given in this chapter is not the original
partitioning algorithm. Here is the original algorithm, which is due to C. A.
R. Hoare:
\\\\
\begin{algorithm}[H]
	\SetKwInOut{Input}{Input}
	\SetKwInOut{Output}{Output}
	\SetKwFunction{Exchange}{Exchange}
	\SetKw{True}{true}
	
	\Input{An unsorted array (A), ... (p) and ... (r)}
	\Output{...}
	\BlankLine
	
	$x = A[p]$\\
	$i = p - 1$\\
	$j = r + 1$
	
	\While{\True}
	{
		\Repeat{$A[j] \geq x$}
		{
			$j = j - 1$
		}
		\Repeat{$A[i] \leq x$}
		{
			$i = i + 1$
		}
		\uIf{$i < j$}
		{
			\Exchange $A[i]$ with $A[j]$
		}
		\Else
		{
			\Return j
		}
	}

	\caption{Hoare Partioning algorithm}
\end{algorithm}

\subsubsection*{\large a. \mdseries Demonstrate the operation of
\texttt{Hoare-Partition} on the array $A = \langle 13, 19, 9, 5, 12, 8, 7, 4,
11, 2, 6, 21\rangle$, showing the values of the array and auxiliary values
after each iteration of the \texttt{while}-loop in lines 4-13.}
\begin{figure}[h]
	\begin{tabular}{|c|c|c|c|c|}
		
		% header
		\hline
		\textbf{Iteration} &
		\textbf{\textit{i}} &
		\textbf{\textit{j}} &
		\textbf{\textit{x}} &
		\textbf{\textit{A}} \\
		
		\hline
		0 & 0 & 13 & 13 &
		$\langle 13, 19, 9, 5, 12, 8, 7, 4, 11, 2, 6, 21 \rangle$ \\
		
		\hline
		1 & 1 & 11 & 13 &
		$\langle 6, 19, 9, 5, 12, 8, 7, 4, 11, 2, 13, 21 \rangle$ \\
		
		\hline
		2 & 2 & 10 & 13 &
		$\langle 6, 2, 9, 5, 12, 8, 7, 4, 11, 19, 13, 21 \rangle$ \\
		
		\hline
		3 & 10 & 9 & 13 &
		$\langle 6, 2, 9, 5, 12, 8, 7, 4, 11, 19, 13, 21 \rangle$ \\
		
		\hline
	\end{tabular}
	\caption{Observed values of Hoare Partition given the input as defined above.}
\end{figure}

\large
\noindent The next three questions ask you to give a careful argument that the
procedure \texttt{Hoare-Partition} is correct. Assuming that the subarray
$A[p \dots r]$ contains at least two elements, prove the following:
\normalsize

\subsubsection*{\large b. \mdseries The indices $i$ and $j$ are such that we
never access an element of $A$ outside the subarray $A[p \dots r]$.}

I order to prove this, an arbitrary example with two cases is given. 
Either two or more elements has been exchanged, or none has been exchanged at
all.\\

\textbf{No elements exchanged}\\
If no elements has been exchanged, we know that \textit{i} has passed all
elements to the left of \textit{x} ending up at the index of \textit{x}.
Likewise \textit{j} has passed all elements to the right of \textit{x},
stopping at the index of \textit{x}. Thus both \textit{i} and \textit{j}
stops in this case.\\

\textbf{Elements exchanged}\\
If elements has been exchanged, we do not need to say anything about the
whereabouts of \textit{x}. Say elements $a \geq x$ is met first by \textit{i}
while $b \leq x$ is met by \textit{j} and they are exchanged. Since
$i<j$, \textit{i} and \textit{j} keeps increasing and decreasing respectively.
At some point, \textit{i} meets \textit{a} and \textit{j} meets \textit{b}
again and they both halt. The only way this can happen is when $i>j$, forcing
the program to terminate.

\subsubsection*{\large c. \mdseries When \texttt{Hoare-Partition} terminates,
it returns a value $j$ such that $p \leq j < r$.}
As the algorithm makes use of a \texttt{do-while}, rather than a regular
\texttt{while}-loop, line 6 is guaranteed to run at least once, ensuring that
$j < r$ after the first iteration, which proves the right hand side of the
inequality. It follows naturally from the proof in (b) that $j$ will never
exceed the bounds of the array $A$ and as such $p \leq j$ on terminat which
proves the right hand side of the inequality. It follows naturally from the
proof in (b) that $j$ will never exceed the bounds of the array $A$ and as
such $p \leq j$ on termination, which proves the left hand side of the
inequality. 

\subsubsection*{\large d. \mdseries Every element of $A[p \dots j]$ is less
than or equal to every element of $A[j + 1 \dots r]$ when
\texttt{Hoare-Partition} terminates.}
...

\subsubsection*{\large e. \mdseries Rewrite the \texttt{Quicksort} procedure
to use \texttt{Hoare-Partition}.}
\begin{algorithm}
	\SetKwInOut{Input}{Input}
	\SetKwInOut{Output}{Output}
	\SetKwFunction{Quicksort}{Quicksort}
	\SetKwFunction{Hoare}{Hoare-Partition}
	
	\Input{An unsorted array $A$ and indices $p$ and $r$, denoting starting
	and ending points of the array, respectively.}
	\Output{The procedure permutes the input array $A$ in-place into sorted
	order.}
	\BlankLine
	
	\If{$p < r$}
	{
		$q =$ \Hoare($A$, $p$, $r$) \\
		\Quicksort($A$, $p$, $q - 1$) \\
		\Quicksort($A$, $q + 1$, $r$)
	}
\end{algorithm}


%========== optional ==========%

% no optional hand-ins


%========== extras ==========%

\newpage
\section*{Extras}
...

%========== exercises ==========%

\newpage
\pagestyle{fancy}

\section*{Exercises}
...

\end{document}

